# UI Architecture - shadcn/ui + Tailwind

## FUNDAMENTAL RULES

### Rule 1: Zero className in Pages

**Pages in `src/app/` must NEVER use `className=`.**

Styling goes through **shadcn components and business components**, not inline Tailwind classes.

```tsx
// ❌ FORBIDDEN - inline className in a page
<div className="flex items-center gap-4 p-6 bg-muted rounded-lg">
  <span className="text-sm text-muted-foreground">Label</span>
</div>

// ✅ CORRECT - use shadcn Card + business components
<Card>
  <CardContent>
    <AccountLabel account={account} />
  </CardContent>
</Card>
```

### Rule 2: Zero style={{}} Anywhere

**NEVER use inline style={{}} in any file.** This includes pages AND components.

```tsx
// ❌ FORBIDDEN - inline styles
<div style={{ backgroundColor: color }}>...</div>
<span style={{ width: `${percent}%` }}>...</span>

// ✅ CORRECT - Use Tailwind classes
<div className="bg-primary">...</div>

// ✅ CORRECT - CSS variables for dynamic values
<div
  style={{ '--color': color } as CSSProperties}
  className="bg-[var(--color)]"
/>
```

**Exception:** CSS custom properties (variables) can be set via style when the value is truly dynamic (e.g., user-defined colors). But the actual styling must use Tailwind's arbitrary value syntax: `bg-[var(--color)]`.

## Layer System

1. **Layer 1: shadcn/ui base** (`src/components/ui/`) - Generated by `npx shadcn@latest add`
2. **Layer 2: Extended shadcn** - Wrap shadcn with custom variants (still in `src/components/ui/`)
3. **Layer 3: Business components** (`src/components/[feature]/`) - Compose Layer 1+2

## Layout

Use **Tailwind flex/grid utilities** directly in components. No custom layout primitives.

```tsx
// ✅ Use Tailwind directly in components
<div className="flex items-center gap-4">
  <Logo />
  <Nav />
</div>

// ✅ Grid layout
<div className="grid grid-cols-1 md:grid-cols-2 gap-6">
  <Card>...</Card>
  <Card>...</Card>
</div>
```

## Available shadcn Components

```bash
npx shadcn@latest add <component>
```

- **Layout**: Card, Dialog, Sheet, Drawer, Popover, Tooltip, Collapsible
- **Forms**: Field, FieldGroup, FieldLabel, FieldError, FieldDescription, Input, InputGroup, Textarea, Select, Checkbox, Switch, RadioGroup, Slider
- **Navigation**: Tabs, NavigationMenu, Breadcrumb, Pagination, Sidebar
- **Data**: Table, DataTable, Avatar, Badge, Progress, Skeleton
- **Feedback**: Alert, AlertDialog, Toast (Sonner)
- **Actions**: Button, DropdownMenu, ContextMenu, Command

### Form Components (New)

The `field.tsx` component provides structured form layouts:

```tsx
import {
  Field,
  FieldGroup,
  FieldLabel,
  FieldDescription,
  FieldError,
  FieldSet,
  FieldLegend,
  FieldSeparator,
  FieldContent,
  FieldTitle,
} from '@/components/ui/field'

import {
  InputGroup,
  InputGroupAddon,
  InputGroupButton,
  InputGroupInput,
} from '@/components/ui/input-group'
```

See `.claude/rules/tanstack.md` for complete form patterns.

## Strict Rules

1. **No className in pages** - Create business components that encapsulate styling
2. **No style={{}} anywhere** - Use Tailwind classes or CSS variables
3. **className allowed in `src/components/`** - That's where Tailwind belongs
4. **Extend shadcn, don't replace** - Add variants with cva, don't rebuild
5. **Use shadcn Field for forms** - See tanstack.md for patterns

## Design Guidelines

- **Minimalism** - No visual clutter
- **Generous whitespace** - `gap-6`, `p-6`
- **Subtle borders** - `border-border/60`
- **Muted colors** - `text-muted-foreground`
- **Mobile-first** - Design for mobile first
- **Primary color is FOREST GREEN** - Check `globals.css`

## Never Use

- Native `alert()`, `confirm()`, `prompt()` - use shadcn's `AlertDialog`
- Custom Stack, Row, Grid, Box components - use Tailwind utilities
- `className` in pages - create components
- `style={{}}` anywhere - use Tailwind classes
- `useAppForm` / old form wrappers - use `useForm` + shadcn Field
