# UI Architecture - shadcn/ui + Tailwind

## FUNDAMENTAL RULE - Zero className in Pages

**Pages in `src/app/` must NEVER use `className=`.**

Styling goes through **shadcn components and business components**, not inline Tailwind classes.

```tsx
// ❌ FORBIDDEN - inline className in a page
<div className="flex items-center gap-4 p-6 bg-muted rounded-lg">
  <span className="text-sm text-muted-foreground">Label</span>
</div>

// ✅ CORRECT - use shadcn Card + business components
<Card>
  <CardContent>
    <AccountLabel account={account} />
  </CardContent>
</Card>
```

## Layer System

1. **Layer 1: shadcn/ui base** (`src/components/ui/`) - Generated by `npx shadcn@latest add`
2. **Layer 2: Extended shadcn** - Wrap shadcn with custom variants (still in `src/components/ui/`)
3. **Layer 3: Flex layout** (`src/components/common/Flex.tsx`) - Our only layout primitive
4. **Layer 4: Business components** (`src/components/[feature]/`) - Compose Layer 1+2+3

## Layout Component: Flex

**We have ONE layout primitive: `Flex`** (and `FlexItem`).

```tsx
import { Flex, FlexItem } from '@/components';

// Vertical stack
<Flex direction="col" gap="md">
  <div>Item 1</div>
  <div>Item 2</div>
</Flex>

// Horizontal row with space-between
<Flex direction="row" justify="between" align="center">
  <Logo />
  <Nav />
</Flex>

// With flex-grow item
<Flex direction="row" gap="md">
  <FlexItem grow="full">Takes remaining space</FlexItem>
  <FlexItem shrink={false}>Fixed size</FlexItem>
</Flex>
```

### Flex Props

| Prop | Values | Default |
|------|--------|---------|
| `direction` | `'row'` \| `'col'` | `'row'` |
| `gap` | `'none'` \| `'xs'` \| `'sm'` \| `'md'` \| `'lg'` \| `'xl'` \| `'2xl'` | `'md'` |
| `align` | `'start'` \| `'center'` \| `'end'` \| `'stretch'` \| `'baseline'` | `'stretch'` |
| `justify` | `'start'` \| `'center'` \| `'end'` \| `'between'` \| `'around'` \| `'evenly'` | `'start'` |
| `wrap` | `'nowrap'` \| `'wrap'` | `'nowrap'` |

### FlexItem Props

| Prop | Values | Default |
|------|--------|---------|
| `grow` | `'none'` \| `'auto'` \| `'full'` | `'none'` |
| `shrink` | `boolean` | `true` |

## Strict Rules

1. **No className in pages** - Create business components that encapsulate styling
2. **No custom layout primitives** - Only `Flex` and `FlexItem` are allowed
3. **className allowed in `src/components/`** - That's where Tailwind belongs
4. **Extend shadcn, don't replace** - Add variants with cva, don't rebuild

## Available shadcn Components

```bash
npx shadcn@latest add <component>
```

- **Layout**: Card, Dialog, Sheet, Drawer, Popover, Tooltip, Collapsible
- **Forms**: Input, Textarea, Select, Checkbox, Switch, RadioGroup, Slider
- **Navigation**: Tabs, NavigationMenu, Breadcrumb, Pagination, Sidebar
- **Data**: Table, DataTable, Avatar, Badge, Progress, Skeleton
- **Feedback**: Alert, AlertDialog, Toast (Sonner)
- **Actions**: Button, DropdownMenu, ContextMenu, Command

## Design Guidelines

- **Minimalism** - No visual clutter
- **Generous whitespace** - `gap="lg"`, `p-6`
- **Subtle borders** - `border-border/60`
- **Muted colors** - `text-muted-foreground`
- **Mobile-first** - Design for mobile first
- **Primary color is CORAL** - Check `globals.css`

## Never Use

- Native `alert()`, `confirm()`, `prompt()` - use shadcn's `AlertDialog`
- Custom Stack, Row, Grid, Box components - use `Flex`
- `className` in pages - create components
